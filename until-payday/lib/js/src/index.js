// Generated by BUCKLESCRIPT VERSION 2.1.0, PLEASE EDIT WITH CARE
'use strict';

var List         = require("bs-platform/lib/js/list.js");
var Process      = require("process");
var DateUtil     = require("./DateUtil.js");
var KeyValueFile = require("./KeyValueFile.js");

var payDayDateKey = "PAYDAY_DATE";

var match = Process.env["HOME"];

var home = match !== undefined ? match : "";

var configPath = "" + (String(home) + "/.paydayrc");

function isPayDayDate(keyValue) {
  return +(keyValue[/* key */0] === payDayDateKey);
}

var today = new Date();

var currentYear = today.getUTCFullYear();

function daysUntilPayday(today, param) {
  var payday = param[/* value */1];
  var numToday = DateUtil.numDayOfDate(today);
  var numDays = payday - numToday;
  var days = numDays > 0.0 ? numDays : payday + DateUtil.daysLeftInMonth(numToday, DateUtil.daysInMonth(currentYear, DateUtil.monthOfDate(today)));
  var outputDays = days | 0;
  return "There are " + (String(outputDays) + " days until payday");
}

var outputString = daysUntilPayday(today, List.find(isPayDayDate, KeyValueFile.paydayFile(configPath)));

console.log(outputString);

exports.payDayDateKey   = payDayDateKey;
exports.home            = home;
exports.configPath      = configPath;
exports.isPayDayDate    = isPayDayDate;
exports.today           = today;
exports.currentYear     = currentYear;
exports.daysUntilPayday = daysUntilPayday;
exports.outputString    = outputString;
/* match Not a pure module */
